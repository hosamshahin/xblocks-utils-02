!function(e){"use strict";e.xblocks=e.xblocks||{};var t=e.xblocks;t.utils=t.utils||{},t.dom=t.dom||{},t.event=t.event||{};var n=Array.prototype.indexOf,r=Object.prototype.hasOwnProperty;t.utils.debounce=function(e,t,n){t=Number(t||250);var r=null;return function(){var o=n||this,i=arguments;clearTimeout(r),r=setTimeout(function(){e.apply(o,i)},t)}},t.utils.throttle=function(e,t,n){t=Number(t||250);var r,o;return function(){var i=n||this,c=Date.now(),u=arguments;r&&r+t>c?(clearTimeout(o),o=setTimeout(function(){r=c,e.apply(i,u)},t)):(r=c,e.apply(i,u))}},t.utils.microtask=function(){var t=0,n=[],r=e.document.createTextNode(""),o=e.MutationObserver||e.JsMutationObserver;return new o(function(){for(;n.length;)n.shift()()}).observe(r,{characterData:!0}),function(e){r.textContent=t++,n.push(e)}}(),t.utils.filterObject=function(e,t){var n={},r={},o=!1;return Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);t&&t(n,i)&&(r[n]=i,o=!0)}),o&&Object.defineProperties(n,r),n},t.utils.mapObject=function(e,n){var r={},o={},i=!1;return Object.keys(e).forEach(function(r){var c=Object.getOwnPropertyDescriptor(e,r),u=n&&n(r,c);"object"===t.utils.type(u)&&(o[u.name]=u.descr,i=!0)}),i&&Object.defineProperties(r,o),r},t.utils.isEmptyObject=function(e){if("object"===t.utils.type(e))for(var n in e)if(r.call(e,n))return!1;return!0},t.utils.isWindow=function(e){return null!==e&&e===e.window},t.utils.uid=function(){return Math.floor(268435456*(1+Math.random())).toString(36)},t.dom.index=function(t,r,o){return n.call((o||e.document).querySelectorAll(t),r)},t.dom.isParent=function(){var t=e.document.documentElement;return"compareDocumentPosition"in t?function(e,t){return 16==(16&e.compareDocumentPosition(t))}:"contains"in t?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1}}(),t.dom.matchesSelector=function(){var e=Element.prototype,t=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||function(e){return-1!==n.call((this.parentNode||this.ownerDocument).querySelectorAll(e),this)};return function(e,n){return 1===e.nodeType?t.call(e,n):!1}}(),t.dom.eachInnerFollowing=function(e,t){for(var n,r,o,i=[e];n=i.pop();){if(r=t&&t(n,i),"undefined"!=typeof r&&!r)return!1;if("next"!==r&&1===n.nodeType&&n.hasChildNodes())for(o=n.childNodes.length;o--;)i.push(n.childNodes[o])}return!0},t.dom.eachInnerPrevious=function(e,t){for(var n,r,o,i,c=[e];n=c.pop();){if(r=t&&t(n,c),"undefined"!=typeof r&&!r)return!1;if("next"!==r&&1===n.nodeType&&n.hasChildNodes())for(i=n.childNodes.length,o=0;i>o;o++)c.push(n.childNodes[o])}return!0},t.dom.eachBefore=function(e,n,r,o){o="undefined"==typeof o?!0:Boolean(o);var i,c;do{if(r&&!t.dom.isParent(r,e))return;for(i=e;i=i.previousSibling;)if(c=o?t.dom.eachInnerPrevious(i,n):n&&n(i),"undefined"!=typeof c&&!c)return!1}while(e=e.parentNode)},t.dom.eachAfter=function(e,n,r,o){o="undefined"==typeof o?!0:Boolean(o);var i,c;do{if(r&&!t.dom.isParent(r,e))return;for(i=e;i=i.nextSibling;)if(c=o?t.dom.eachInnerFollowing(i,n):n&&n(i),"undefined"!=typeof c&&!c)return!1}while(e=e.parentNode)},t.event.delegate=function(e,n){return function(r){var o,i=r.target||r.srcElement;if(i.tagName){if(t.dom.matchesSelector(i,e))o=i;else if(t.dom.matchesSelector(i,e+" *"))for(var c=i.parentNode;c;){if(t.dom.matchesSelector(c,e)){o=c;break}c=c.parentNode}o&&(r.delegateElement=o,n.call(o,r))}}},t.event._clickWhich={1:"left",2:"center",3:"right"},t.event.filterClick=function(e,n){return e=Array.isArray(e)?e:[e],function(r){if("click"===r.type){var o=r.which;!o&&r.button&&(1&r.button?o=1:4&r.button?o=2:2&r.button&&(o=3)),o=t.event._clickWhich[o],-1!==e.indexOf(o)&&n.call(this,r)}}},t.event.filterMouseEnter=function(e,t,n){for(var r=t.relatedTarget||t.srcElement;r&&r!==e;)r=r.parentNode;return r!==e?n.call(e,t):void 0},t.event.filterMouseLeave=t.event.filterMouseEnter}(function(){return this||(1,eval)("this")}());